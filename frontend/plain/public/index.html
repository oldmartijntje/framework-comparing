<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tic-Tac-Toe App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/src/style.css">
</head>
<body>
<style>
    .game-board {
        grid-template-columns: repeat(3, 100px);
        grid-gap: 10px;
        margin-left: auto;
        margin-right: auto;
        width: 320px;
    }

    .cell {
        width: 100px;
        height: 100px;
        font-size: 2rem;
    }
</style>
<!-- Header -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="index.html">Tic-Tac-Toe</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link active" href="index.html">Tic Tac Toe</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="second.html">Todo List</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Main Content -->
<div class="container text-center mt-5">
    <h1 class="mb-4">Tic-Tac-Toe</h1>
    <div id="game" class="d-grid game-board mx-auto"></div>
    <p id="status" class="mt-3 fs-5"></p>
    <button id="resetBtn" class="btn btn-primary mt-3">Reset Game</button>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script type="module">
    const board = Array(9).fill(null);
    let currentPlayer = "X";
    const gameEl = document.getElementById("game");
    const statusEl = document.getElementById("status");
    const resetBtn = document.getElementById("resetBtn");

    function renderBoard() {
        gameEl.innerHTML = "";
        board.forEach((cell, i) => {
            const btn = document.createElement("button");
            btn.className = "btn btn-outline-dark cell";
            btn.textContent = cell || "";
            btn.onclick = () => handleClick(i);
            gameEl.appendChild(btn);
        });
    }

    function handleClick(i) {
        if (board[i] || checkWinner()) return;
        board[i] = currentPlayer;
        currentPlayer = currentPlayer === "X" ? "O" : "X";
        renderBoard();
        const winner = checkWinner();
        if (winner) {
            statusEl.textContent = `${winner} wins!`;
        } else if (!board.includes(null)) {
            statusEl.textContent = "It's a draw!";
        } else {
            statusEl.textContent = `Player ${currentPlayer}'s turn`;
        }
    }

    function checkWinner() {
        const lines = [
            [0,1,2],[3,4,5],[6,7,8],
            [0,3,6],[1,4,7],[2,5,8],
            [0,4,8],[2,4,6]
        ];
        for (let [a,b,c] of lines) {
            if (board[a] && board[a] === board[b] && board[a] === board[c]) {
                return board[a];
            }
        }
        return null;
    }

    resetBtn.onclick = () => {
        for (let i=0; i<board.length; i++) board[i] = null;
        currentPlayer = "X";
        statusEl.textContent = "Player X's turn";
        renderBoard();
    };

    // Initialize
    renderBoard();
    statusEl.textContent = "Player X's turn";
</script>
</body>
</html>
